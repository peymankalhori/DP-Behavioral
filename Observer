from abc import ABC, abstractmethod

# Ø±Ø§Ø¨Ø· Observer (Ù†Ø§Ø¸Ø±)
class Observer(ABC):
    @abstractmethod
    def update(self, state):
        pass

# Subject ÛŒØ§ Ù‡Ù…Ø§Ù† Ø¯Ø³ØªÚ¯Ø§Ù‡ Ú©Ù‡ Ø­Ø§Ù„ØªØ´ Ø±Ùˆ Ù†Ú¯Ù‡ Ù…ÛŒâ€ŒØ¯Ø§Ø±Ù‡ Ùˆ Ø¨Ù‡ Ù†Ø§Ø¸Ø±Ù‡Ø§ Ø§Ø·Ù„Ø§Ø¹ Ù…ÛŒØ¯Ù‡
class DeviceStateManager:
    def __init__(self):
        self._observers = []
        self._state = None

    def register(self, observer):
        self._observers.append(observer)

    def unregister(self, observer):
        self._observers.remove(observer)

    def notify_observers(self):
        for observer in self._observers:
            observer.update(self._state)

    def set_state(self, state):
        self._state = state
        print(f"\nğŸŸ¢ Ø­Ø§Ù„Øª Ø¯Ø³ØªÚ¯Ø§Ù‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯ Ø¨Ù‡: {self._state}")
        self.notify_observers()

# Ù†Ø§Ø¸Ø±Ù‡Ø§ÛŒ Ù…Ø®ØªÙ„ÙÛŒ Ú©Ù‡ Ø¨Ù‡ ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø¯Ø³ØªÚ¯Ø§Ù‡ ÙˆØ§Ú©Ù†Ø´ Ù†Ø´ÙˆÙ† Ù…ÛŒØ¯Ù†
class Logger(Observer):
    def update(self, state):
        print(f"[Ù„Ø§Ú¯] Ø¯Ø³ØªÚ¯Ø§Ù‡ Ø­Ø§Ù„Ø§ Ø¯Ø± Ø­Ø§Ù„Øª: {state} Ø§Ø³Øª.")

class Display(Observer):
    def update(self, state):
        print(f"[Ù†Ù…Ø§ÛŒØ´Ú¯Ø±] Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø¬Ø¯ÛŒØ¯: {state}")

class AlertSystem(Observer):
    def update(self, state):
        if state == "ÙØ¹Ø§Ù„":
            print("[Ù‡Ø´Ø¯Ø§Ø±] Ø¯Ø³ØªÚ¯Ø§Ù‡ ÙØ¹Ø§Ù„ Ø´Ø¯Ù‡ØŒ Ø³ÛŒØ³ØªÙ… Ù‡Ø´Ø¯Ø§Ø± Ø±ÙˆØ´Ù† Ø´Ø¯.")
        elif state == "ØºÛŒØ±ÙØ¹Ø§Ù„":
            print("[Ù‡Ø´Ø¯Ø§Ø±] Ø¯Ø³ØªÚ¯Ø§Ù‡ ØºÛŒØ±ÙØ¹Ø§Ù„ Ø§Ø³ØªØŒ Ù‡Ø´Ø¯Ø§Ø±Ù‡Ø§ Ø®Ø§Ù…ÙˆØ´ Ø´Ø¯Ù†Ø¯.")
        else:
            print("[Ù‡Ø´Ø¯Ø§Ø±] ÙˆØ¶Ø¹ÛŒØª Ø¯Ø³ØªÚ¯Ø§Ù‡ ØªØºÛŒÛŒØ± Ú©Ø±Ø¯.")

# Ø§Ø³ØªÙØ§Ø¯Ù‡
if __name__ == "__main__":
    device = DeviceStateManager()

    logger = Logger()
    display = Display()
    alert = AlertSystem()

    # Ø«Ø¨Øª Ù†Ø§Ø¸Ø±Ù‡Ø§
    device.register(logger)
    device.register(display)
    device.register(alert)

    # ØªØºÛŒÛŒØ± Ø­Ø§Ù„Øª Ø¯Ø³ØªÚ¯Ø§Ù‡
    device.set_state("ÙØ¹Ø§Ù„")
    device.set_state("Ø§Ø³ØªØ±Ø§Ø­Øª")
    device.set_state("ØºÛŒØ±ÙØ¹Ø§Ù„")

    # Ø­Ø°Ù ÛŒÚ© Ù†Ø§Ø¸Ø±
    device.unregister(alert)

    device.set_state("ÙØ¹Ø§Ù„")
